# SQL과 옵티마이저
## SQL
-  Structured Query Language, 4세대 언어
-  사용자가 작성한 명세서(SQL)을 바탕으로 자동으로 코딩하여 처리(SQL 없이 데이터 처리 상상해보자)
-  실제로는 옵티마이저가 코딩을 하는 프로그래머 역할
## 옵티마이저 최적화 단계 요약
-   사용자의 쿼리에 대해, 이전에 처리한 것이 있는지 확인
-  데이터 딕셔너리에서 통계 정보를 이용해 예상 비용 산정
-  각 실행계획 비용을 비교하여 최소 비용 실행계획 선택


## SQL 처리 과정
![[Pasted image 20241218142402.png]]


### 소프트 파싱, 하드 파싱
 하드파싱 : 공유 풀에 실행 계획이 존재하지 않아 실행 계획을 생성하는 경우
 소프트파싱 : 공유 풀에 존재하는 실행 계획을 찾아 이를 재사용

### 공유풀, 라이브러리 캐시
 ![[Pasted image 20241218141238.png]]

바인드 변수를 활용하자.

```SQL
-- 바인드 변수 없이 쿼리를 작성하는 경우(id가 다르면 모두 하드파싱)
SELECT id FROM emp WHERE id = 1; 
SELECT id FROM emp WHERE id = 2; 

-- 바인드 변수를 활용하는 경우(파싱된 것을 재활용 가능)
SELECT id FROM emp WHERE id = :A;

```